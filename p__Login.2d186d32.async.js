(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"3imC":function(e,a,s){"use strict";s.r(a);var t,i,l,c,n=s("k1fw"),o=s("q1tI"),r=s.n(o),d=s("9kvl"),h=s("tsqr"),m=s("ZTPi"),j=s("Vl3Y"),p=s("5rEg"),b=s("lrIw"),u=s("2/Rp"),g=s("kLXV"),x=s("8z0m"),O=s("cJ7L"),f=s("FY4R"),F=s("y0hu"),y=(s("oMEu"),s("nKUr")),v=["@qq.com","@163.com","@united-imaging.com"],w=(t=Object(d["a"])((e=>{var a=e.login,s=e.loading;return Object(n["a"])(Object(n["a"])({},a),{},{loading:s})})),i=Reflect.metadata("design:type",Function),l=Reflect.metadata("design:paramtypes",[void 0]),t(c=i(c=l(c=class extends o["Component"]{constructor(e){super(e),this.onFinish=e=>{var a=this.props.dispatch,s=this.state.loginType;"account"===s?("guest"===e.username&&"123456"===e.password||"admin"===e.username&&"123456"===e.password)&&(h["b"].success("\u559c\u6b22\u60a8\u6765 "+e.username),window.localStorage.setItem("user",e.username),d["b"].push({pathname:"/"})):a({type:"login/verificationCode",payload:{captcha:e.captcha,emailAddress:e.emailAddress},callback:e=>{console.log("dev\u8fd4\u56de",e),200===e.resCode?(h["b"].success(e.data.msg),window.localStorage.setItem("user",e.data.user),d["b"].push({pathname:"/"})):h["b"].error(e.data.msg)}})},this.onFinishFailed=e=>{console.log("Failed:",e)},this.onModalFinish=e=>{console.log("Success:",e)},this.onModalFinishFailed=e=>{console.log("Failed:",e)},this.normFile=e=>(console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList),this.setType=e=>{this.setState({loginType:e})},this.handleSendEmail=()=>{var e=this.props.dispatch,a=this.formRef.current.getFieldsValue().emailAddress;a&&a.length>0?e({type:"login/sendEmailCaptcha",payload:{emailAddress:a},callback:e=>{console.log("\u53d1\u9001\u90ae\u4ef6\u9a8c\u8bc1\u7801\u8fd4\u56de",e),200===e.resCode?h["b"].success(e.data.msg):h["b"].error(e.data.msg)}}):this.formRef.current.validateFields(["emailAddress"])},this.onEmailAddressChange=e=>{var a=this.state.autoCompleteResult;a=e?v.map((a=>"".concat(e).concat(a))):[],this.setState({autoCompleteResult:a})},this.handleModalShow=()=>{this.setState({isModalVisible:!0})},this.handleModalOk=()=>{this.setState({isModalVisible:!1})},this.handleModalCancel=()=>{this.setState({isModalVisible:!1})},this.state={showForm:1,isModalVisible:!1,loginType:"account",autoCompleteResult:[]},this.formRef=r.a.createRef(),this.formModalRef=r.a.createRef()}componentDidMount(){}render(){var e=this.state,a=(e.showForm,e.leftVal,e.loginType),s=e.autoCompleteResult,t=e.isModalVisible,i=s.map((e=>({label:e,value:e})));return Object(y["jsxs"])("div",{className:"login-page flex-col",children:[Object(y["jsxs"])("div",{className:"form-container",children:[Object(y["jsxs"])(m["a"],{activeKey:a,onChange:this.setType,children:[Object(y["jsx"])(m["a"].TabPane,{tab:"\u8d26\u6237\u5bc6\u7801\u767b\u5f55"},"account"),Object(y["jsx"])(m["a"].TabPane,{tab:"\u9a8c\u8bc1\u7801\u767b\u5f55"},"email")]}),Object(y["jsxs"])(j["a"],{ref:this.formRef,layout:"vertical",name:"basic",onFinish:e=>this.onFinish(e),onFinishFailed:e=>this.onFinishFailed(e),children:["account"===a&&Object(y["jsxs"])(y["Fragment"],{children:[Object(y["jsx"])(j["a"].Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:Object(y["jsx"])(p["a"],{allowClear:!0,size:"large",prefix:Object(y["jsx"])(O["a"],{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d"})}),Object(y["jsx"])(j["a"].Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(y["jsx"])(p["a"].Password,{allowClear:!0,size:"large",prefix:Object(y["jsx"])(f["a"],{className:"site-form-item-icon"}),placeholder:"\u5bc6\u7801"})})]}),"email"===a&&Object(y["jsxs"])(y["Fragment"],{children:[Object(y["jsx"])(j["a"].Item,{name:"emailAddress",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}],children:Object(y["jsx"])(b["a"],{options:i,onChange:this.onEmailAddressChange,children:Object(y["jsx"])(p["a"],{allowClear:!0,size:"large",placeholder:"\u90ae\u7bb1",prefix:Object(y["jsx"])(F["a"],{className:"site-form-item-icon"})})})}),Object(y["jsx"])(j["a"].Item,{children:Object(y["jsxs"])("div",{className:"flex-row captcha-container",children:[Object(y["jsx"])("div",{className:"fill-flex",children:Object(y["jsx"])(j["a"].Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],children:Object(y["jsx"])(p["a"],{size:"large",placeholder:"\u9a8c\u8bc1\u7801"})})}),Object(y["jsx"])(u["a"],{onClick:this.handleSendEmail,size:"large",children:"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]})})]}),Object(y["jsx"])(j["a"].Item,{children:Object(y["jsx"])(u["a"],{size:"large",type:"primary",htmlType:"submit",children:"\u767b\u5f55"})})]}),Object(y["jsxs"])("div",{className:"bottom-tips-container flex-col",children:[Object(y["jsxs"])("p",{className:"account-text flex-row",children:[Object(y["jsx"])("span",{children:"\u7528\u6237\u540d: admin"})," ",Object(y["jsx"])("span",{children:"\u5bc6\u7801: 123456"})]}),Object(y["jsxs"])("p",{className:"account-text flex-row",children:[Object(y["jsx"])("span",{children:"\u7528\u6237\u540d: guest"})," ",Object(y["jsx"])("span",{children:"\u5bc6\u7801: 123456"})]})]}),Object(y["jsx"])(u["a"],{type:"primary",onClick:this.handleModalShow,size:"large",children:"\u6253\u5f00\u5f39\u7a97"})]}),Object(y["jsx"])(g["a"],{title:"\u5b8c\u5584\u4fe1\u606f",visible:t,onOk:this.handleModalOk,onCancel:this.handleModalCancel,children:Object(y["jsxs"])(j["a"],{name:"validate_other",ref:this.formModalRef,layout:"vertical",name:"basic",onFinish:e=>this.onModalFinish(e),onFinishFailed:e=>this.onModalFinishFailed(e),children:[Object(y["jsx"])(j["a"].Item,{label:"\u5934\u50cf",children:Object(y["jsx"])(j["a"].Item,{name:"avatar",valuePropName:"fileList",getValueFromEvent:this.normFile,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u5934\u50cf"}],children:Object(y["jsx"])(x["a"].Dragger,{name:"avatar_upload",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"/http://10.8.104.7:5400/upInterface"})})}),Object(y["jsx"])(j["a"].Item,{children:Object(y["jsx"])(u["a"],{style:{width:"100%"},size:"large",type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"})})]})})]})}})||c)||c)||c);a["default"]=w},oMEu:function(e,a,s){}}]);